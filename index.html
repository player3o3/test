<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>AntiScam.net</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body class="bg-gray-900 min-h-screen flex flex-col items-center p-4 text-white font-sans">

  <!-- –®–∞–ø–∫–∞ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
  <div class="w-full max-w-md mb-4 p-4 text-center bg-gray-800 rounded-2xl">
    <h1 class="text-2xl font-bold text-blue-400 mb-2">AntiScam.net</h1>

    <!-- –ü—Ä–æ—Ñ–∏–ª—å (–∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –º–µ–Ω—é –≤–∏–¥–Ω–æ) -->
    <div id="profile-card" onclick="profileClick()" class="flex items-center justify-center gap-4 cursor-pointer bg-gray-700 p-2 rounded-xl hover:bg-gray-600 transition">
      <img id="avatar" src="https://via.placeholder.com/50" alt="–ê–≤–∞—Ç–∞—Ä" class="w-12 h-12 rounded-full">
      <div class="flex flex-col text-left">
        <span id="name" class="font-bold text-lg">–ò–º—è</span>
        <span id="username" class="text-gray-300">@username</span>
        <span id="gameid" class="text-gray-400 text-sm">ID: 12345</span>
      </div>
    </div>
  </div>

  <!-- –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å -->
  <div class="w-full max-w-md h-px bg-gray-700 mb-4"></div>

  <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
  <div id="menu" class="w-full max-w-md flex flex-col gap-4 mb-4">
    <button onclick="goToPage('cars')" class="py-6 bg-gray-700 hover:bg-gray-600 rounded-xl shadow-lg transition font-bold text-lg">
      üèé –†—ã–Ω–æ–∫ –∞–≤—Ç–æ
    </button>
    <button onclick="goToPage('parts')" class="py-6 bg-gray-700 hover:bg-gray-600 rounded-xl shadow-lg transition font-bold text-lg">
      üîß –†—ã–Ω–æ–∫ –∑–∞–ø—á–∞—Å—Ç–∏
    </button>

    <!-- –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å -->
    <div class="w-full h-px bg-gray-700"></div>

    <button onclick="goToPage('exchange')" class="py-6 bg-gray-700 hover:bg-gray-600 rounded-xl shadow-lg transition font-bold text-lg">
      üí± –û–±–º–µ–Ω–Ω–∏–∫
    </button>

    <!-- –í–µ—Ä—Å–∏—è -->
    <p class="text-center text-gray-500 text-sm mt-4">v0.5</p>
  </div>

  <!-- –°—Ç—Ä–∞–Ω–∏—Ü—ã -->
  <div id="cars" class="hidden w-full max-w-md text-white">
    <h2 class="text-2xl font-bold mb-2">üèé –†—ã–Ω–æ–∫ –∞–≤—Ç–æ</h2>
    <p>–ó–¥–µ—Å—å –±—É–¥—É—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è –ø–æ –º–∞—à–∏–Ω–∞–º.</p>
    <button onclick="goHome()" class="mt-4 py-2 px-4 bg-gray-700 hover:bg-gray-600 rounded-lg">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
  </div>

  <div id="parts" class="hidden w-full max-w-md text-white">
    <h2 class="text-2xl font-bold mb-2">üîß –†—ã–Ω–æ–∫ –∑–∞–ø—á–∞—Å—Ç–∏</h2>
    <p>–ó–¥–µ—Å—å –±—É–¥—É—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è –ø–æ –∑–∞–ø—á–∞—Å—Ç—è–º.</p>
    <button onclick="goHome()" class="mt-4 py-2 px-4 bg-gray-700 hover:bg-gray-600 rounded-lg">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
  </div>

  <div id="exchange" class="hidden w-full max-w-md text-white">
    <h2 class="text-2xl font-bold mb-2">üí± –û–±–º–µ–Ω–Ω–∏–∫</h2>
    <p>–û–±–º–µ–Ω –≤–∞–ª—é—Ç–æ–π.</p>
    <button onclick="goHome()" class="mt-4 py-2 px-4 bg-gray-700 hover:bg-gray-600 rounded-lg">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
  </div>

  <div id="profile" class="hidden w-full max-w-md text-white">
    <h2 class="text-2xl font-bold mb-2">üë§ –ü—Ä–æ—Ñ–∏–ª—å</h2>
    <p>–ò–º—è: <span id="profile-name"></span></p>
    <p>–Æ–∑–µ—Ä–Ω–µ–π–º: <span id="profile-username"></span></p>
    <p>ID –∏–≥—Ä—ã: <span id="profile-gameid">12345</span></p>
    <button onclick="goHome()" class="mt-4 py-2 px-4 bg-gray-700 hover:bg-gray-600 rounded-lg">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
  </div>

  <script>
    const pages = ['cars', 'parts', 'exchange', 'profile'];

    function goToPage(name) {
      document.getElementById('menu').classList.add('hidden');
      pages.forEach(p => {
        document.getElementById(p).classList.toggle('hidden', p !== name);
      });
      // –∑–∞–ø–æ–ª–Ω—è–µ–º –ø—Ä–æ—Ñ–∏–ª—å –µ—Å–ª–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ–º –ø—Ä–æ—Ñ–∏–ª—å
      if (name === 'profile') fillProfile();
    }

    function goHome() {
      pages.forEach(p => document.getElementById(p).classList.add('hidden'));
      document.getElementById('menu').classList.remove('hidden');
    }

    // –ù–û–í–ê–Ø –§–£–ù–ö–¶–ò–Ø: –∫–ª–∏–∫–∞–µ–º –ø–æ –∫–∞—Ä—Ç–æ—á–∫–µ –ø—Ä–æ—Ñ–∏–ª—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –º–µ–Ω—é –≤–∏–¥–Ω–æ
    function profileClick() {
      const menu = document.getElementById('menu');
      if (!menu) return;
      // –µ—Å–ª–∏ –º–µ–Ω—é –≤–∏–¥–Ω–æ ‚Äî —Ä–∞–∑—Ä–µ—à–∞–µ–º –ø–µ—Ä–µ—Ö–æ–¥ –≤ –ø—Ä–æ—Ñ–∏–ª—å
      if (!menu.classList.contains('hidden')) {
        goToPage('profile');
      } else {
        // –∏–Ω–∞—á–µ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ–º (–º–æ–∂–Ω–æ —Å—é–¥–∞ –¥–æ–±–∞–≤–∏—Ç—å toast, –Ω–æ –ø–æ–∫–∞ –æ—Å—Ç–∞–≤–ª—è–µ–º –±–µ–∑ –¥–µ–π—Å—Ç–≤–∏–π)
      }
    }

    // –§—É–Ω–∫—Ü–∏—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è (–∏–º—è+—Ñ–∞–º–∏–ª–∏—è)
    function fillProfile(tgUser) {
      tgUser = tgUser || (window.Telegram?.WebApp?.initDataUnsafe?.user) || null;
      if (!tgUser) {
        // —à–∞–±–ª–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞–≤–ª—è–µ–º –∫–∞–∫ –µ—Å—Ç—å
        return;
      }
      const fullName = tgUser.last_name ? `${tgUser.first_name} ${tgUser.last_name}` : tgUser.first_name || '';
      const uname = tgUser.username ? '@' + tgUser.username : '';
      const gameId = tgUser.game_id || tgUser.id || '';
      const photo = tgUser.photo_url || tgUser.photo || '';

      if (fullName) {
        document.getElementById('name').innerText = fullName;
        document.getElementById('profile-name').innerText = fullName;
      }
      if (uname) {
        document.getElementById('username').innerText = uname;
        document.getElementById('profile-username').innerText = uname;
      }
      if (gameId) {
        document.getElementById('gameid').innerText = 'ID: ' + gameId;
        document.getElementById('profile-gameid').innerText = gameId;
      }
      if (photo) {
        document.getElementById('avatar').src = photo;
      }
    }

    // –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ + –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è
    (function initProfile() {
      try {
        const tg = window.Telegram?.WebApp;
        tg?.ready && tg.ready();
        fillProfile(tg?.initDataUnsafe?.user);

        // –µ—Å–ª–∏ –µ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ–±—ã—Ç–∏–π ‚Äî —Å–ª—É—à–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è initData
        if (tg?.onEvent) {
          tg.onEvent('initDataChanged', () => {
            fillProfile(tg.initDataUnsafe?.user);
          });
        }
      } catch (e) {
        // –Ω–µ –≤ Telegram ‚Äî –æ—Å—Ç–∞–≤–ª—è–µ–º —à–∞–±–ª–æ–Ω
      }
    })();
  </script>

</body>
</html>
